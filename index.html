<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>index td8 : fetch</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
    <h1>La Chaudière</h1>
    <div id="filtreCateg">
    </div>
    <div id="listEvents">
    </div>
    <script id="filtreCategTemplate" type="text/x-handlebars-template">
        <h2>Filtrer par catégorie :</h2>
        <select id="categorySelect" onchange="filterEventsByCategory()">
            <option value="">Toutes les catégories</option>
            {{#each categories}}
                <option value="{{this.id}}">{{this.libelle}}</option>
            {{/each}}
        </select>
    </script>
    <script id="eventsTemplate" type="text/x-handlebars-template">
        <h2>Liste des événements :</h2>
        <ul>
            {{#each events}}
                <li>
                    <div class="event-item">
                        <h3>{{this.titre}}</h3>
                        <p><strong>Catégorie :</strong>
                            {{#each ../categories}}
                                {{#if (eq this.id ../this.categorie_id)}}
                                    {{this.libelle}}
                                {{/if}}
                            {{/each}}</p>
                        <p><strong>Date :</strong> {{this.date_debut}}</p>
                    </div>
                </li>
            {{/each}}
        </ul>
    </script>
    <script  src='out.js' defer ></script>
</body>